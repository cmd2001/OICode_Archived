2018.06.23:
注意除二的时候运算符优先级的问题。
为什么线段树我在build的时候清零会WA，必须用memset清零才行(奇怪的锅)。
xlen和n打反......我说我怎么写了假线段树。
注意如果题目的覆盖操作有-1的话不要用-1做哨兵值(mdzz!)。
区间reverse的话，记得更换到左右端点的标记。
fread读入优化，注意isspace宏不判定-1，也就是说你的哨兵数值应该是空格。
注意维护区间的非旋转treap能O(n)构建，所以4e6的数据范围就不要手动merge了。