20180329小测

让大家都AK的信心赛......
话说这种考试有什么意思(不)，还不如做我出的那套模拟题呢......

T1:
其实这题是我三道题里AC得最晚的......
首先我们能用bitset+大力背包骗到58-64分......
考虑我们如果先枚举两个数能组合出的值，再计算另外一个数的方案数，什么情况下会算重?
显然是当这个值取模最后的那个数相同的时候，这样一个方案数会被计算多次!
此外还有一个十分显然的结论:当两个值取模最后那个数相同时，较大的那个值的答案会被包含在较小的那个值的答里面。
这样的话，我们在取模abc中某一个数的同余系下跑一个最短路，用另外两个数做边进行转移，最后再统计一发答案不就好了。
60分bitset代码:
正解代码:

T2:
怕不是stl:rope裸题......
rope能实现区间提取，单点插入区间，正好能用来做这道题......
代码:

T3:
如果只是求和应该怎样做?一个很显然的换根树状DP。
现在要求k次呢?这样的话距离+1-1就需要进行变化了。
我们维护x^0~x^k的一个多项式，在更新x^k的时候利用二项式定理和更低次的项进行更新就好了。
这样一次更新复杂度O(k)，总复杂度O(nkt)，稳稳地AC了。
根节点深度为1好评，省去了对于0^k等问题的繁琐的分类讨论......
代码:

最后上排名。
(为什么3个AK的?因为有一个是我用我老婆的名字注册的账号(四蒸心.jpg))
话说比赛还没结束呢就发题解真的好吗?
另外我的桌子竟然带电!准备报警了!

