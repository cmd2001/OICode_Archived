20180611小测:

T1:

注意下面的那个求平均值的公式少了一个除大小，自行补上。
这种数据范围的最小方差生成树？真的可做？
BZOJ3754那题我可是n^2k暴力卡过去的啊......(好像只能暴力QAQ)
正解？标算好像就是求尽可能近的区间生成树。显然不对啊......
不可做，不可做。咕咕咕了。

T2:

怎么又是原题？
真不是BZOJ3505吗？
考虑枚举所有选三个点的方案再减去三点共线的。
就是C(n*m,3)-m*C(n,3)-n*C(m,3)-2*sigma(i from 1 to n-1,j from 1 to m-1)(gcd(i,j)-1)(n-i)(m-j)。
也就是全部的方案数为C(n*m,3)，平行于坐标轴三点共线的有m*C(n,3)-n*C(m,3)种，斜向三点共线的，考虑枚举两边的两个点形成的向量，这样的向量存在(n-i)(m-j)个，对于每个向量，把中间点放置在格点上的方案有gcd(i,j)-1种，因为左右两种方向所以要全部*2。
但是，数据范围什么鬼......
考虑对公式进行数学变形:

右边的东西就很容易求和了(具体数学告诉你这样交换求和变量是对的):

对于gcd反演的惯例反演就是变成phi啦(什么这步你推不出来？丢人！退役吧！)：

(不要吐槽我的公式渲染，msword2016在linux下就是这个德行)
由于求和式子的取值至于(n-1)/t和(m-1)/t有关，数论分块就很显然了。
然而卡常只有90分......
代码:

T3:

这题什么东西啊？真的可做？
写了一个三分套(线段树+RMQ+三分套二分)(什么鬼)，发现不符合单调性，就能过样例，对拍拍一组WA一组。
无奈写了个O(n^2logn)的暴力，放进去交了，骗了20分......
正解是这个样子的:

(表示您并没有告诉我数据随机)
但是，如果数据真的随机，并没有那么麻烦！
我可以写一个O(n^2)暴力，从右向左枚举左端点，然后从左向右枚举右端点，对于每个右端点，我么令sj表示当前左端点到j的区间的最小和。显然每次更新的时候sj=min(sj,sj-1,ai-aj)，于是就去掉log了。
这样暴力显然不能AC，我们能加入剪枝，如果当前sj*(n-i)已经<=答案了，我们就可以把内层循环break掉了。
然后就能AC啦！

考场20分代码:

正解代码:

这种题都做不出来，果然还是我太菜啦！
对了我决定把电脑里的Win10删掉以彻底杜绝自己想要推gal的思想

冷(つめ)たかった 寂(さみ)しかった
好冷啊，好寂寞
凍(い)てつく街(まち)に息衝(いきづ)く
生活在这冰封的城镇里
優(やさ)しい愛(あい)の唄(うた)が
温柔地爱的歌谣
胸(むね)の奥(おく)積(つ)もって
在心中回响
変わる景色 幼い私 隔てた 境界線(きょうかいせん
将变化的景色和幼小的自己分隔的境界线
見(み)えなくなるくらい 染(そ)めていたの
变得不再那样清晰

