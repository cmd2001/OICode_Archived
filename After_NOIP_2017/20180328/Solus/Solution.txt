T1：分块
把磁铁按照重量排序后分成sqrt(N)块
每一块内部再按到(x0,y0)的距离排序
维护一个磁铁队列进行扩展，最初只含磁铁L
取出队头磁铁，考虑质量小于队头吸引力的磁铁所在的块
在这些块中删除距离小于队头吸引半径的磁铁，并加入队尾
如此进行直到队列为空
每次扩展时，扫描到之后不能从块中删除的磁铁都在临界位置的块中，至多sqrt(N)个

T2：二分+点分治+线段树
二分答案（中位数）
把比中位数小的边标-1，其余标1
问题变为求一条路径，边权和>=0，长度在[L,R]之间
点分治
线段树维护f的区间最值
枚举一个点v，深度为d[v]，到根的边权和f[v]
在线段树中查询深度d[u]在[L-d[v],R-d[v]]之间的最大的f[u]
如果f[u]+f[v]>=0，说明路径u-v的中位数不小于当前二分的值

T3：差分序列+后缀数组+RMQST+二分+归并树
首先构造差分序列
然后把差分序列中每一个数取相反数后构成的序列接在差分序列后面
中间用一个分隔符隔开
那么答案要求的区间就是在取反后的差分序列中对应位置上的数都相等
对新的序列求后缀数组并构建RMQ-ST数组
如果不考虑重叠，满足条件的区间就是从它所在后缀到查询所在后缀的最小height不小于询问的r-l
因此可以通过二分和和RMQ-ST算法求出不考虑重叠的情况下的区间个数
再用归并树统计重叠部分减去，即查询二分得到的区间里位置处于重叠部分的数的个数