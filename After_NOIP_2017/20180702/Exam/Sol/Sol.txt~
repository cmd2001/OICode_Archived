20180702小测

这场考试我其实并没有参加......
因为一些奥妙重重的原因肚子疼到厌生，没看完题就滚回家了......
马上就NOI了还是这种身体状态，真是要完。

T1:
我们先把所有点双联通分量缩起来。
如果这个双联通分量只有一条边，那么方案数显然是k；
如果这个双联通分量恰好是一个环，那么方案数可以用polya定理计算；
否则，这个双联通分量的任意两条边可以互换颜色(自行构造一下就知道了)，所以方案数只和某种颜色出现几次有关，大力插板即可。
双联通分量的形态怎么判？记录点数和边数判断即可。
具体就是用vector存下来每个分量的每条边，然后暴力数点即可。
(这里吐槽一句求点双联通分量栈里面压点的都是邪教！你那么做根本没法统计返祖边！)
代码:


T2:
我会有下界的最小流！
等等，为什么要按照上下界建图呢？直接从钦定边全选的状态开始退流就行了，限制每个点能退的流量。水题！
然而SPJ还得自己改......
代码:
SPJ:

T3:
一脸不可做的样子......
考虑对每个点统计覆盖它的圆的贡献。
我们先计算第一象限(含x轴)的答案，最后乘4在加上原点的贡献即可。
考虑枚举点的坐标，我们有:

(后面j是在枚举能覆盖这个点的圆，后面乘的是这个圆被统计的次数)
我们令:

显然关于x的k次多项式的前缀和或有上界的后缀和都是一个关于x的k+1次多项式。所以这个s我们能大力拉格朗日插值。
那么我们的公式能化为:

我们令:

就是一个把x当做常数，关于y的函数了。
我们理性分析一下，S(x)是关于x的3次多项式，那么S(x^2+y^2)就是关于y的6次多项式，而这个东西是S(x^2+y^2)的前缀和，就是关于y的7次多项式喽。
于是我们又能大力拉格朗日插值......
然后我们大力枚举x，这题就做完了......复杂度O(sqrt(m))，常数巨大，最后一个点要7s......
代码:


夜(よる)が明(あ)けて朝(あさ)が来(く)る
黑夜终去 黎明终来
星空(ほしぞら)が朝(あさ)に溶(と)けても
繁星即使融化于晨
君(きみ)の辉(かがや)きはわかるよ
我依可见君之光辉
思(おも)い出(で)を羽(は)ばたかせ
思念化为羽翼
君(きみ)の空(そら)へ舞(ま)い上(あ)がる
飞向星之所在

