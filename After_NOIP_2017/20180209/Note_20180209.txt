Bzoj1493:
线段树？前两个操作用变量维护即可。反正最后会成为常数段。
Bzoj2743:
线段树树状数组谁都会qaq。
考虑分块怎么搞，统计整块的答案，跑非整块的时候看prev[prev[i]]位置。
Bzoj1014:
Splay存子树hash值，旋转的时候只需要更新这个值就行了，复杂度常数级。
插入修改随便做，查询的时候只需要二分+哈希求LCP即可，我们把要查询的区间旋转出来。
自然溢出乱搞。
带修改主席树？用树状数组套一发。
Bzoj1146:
两个log做法？考虑主席树，这是子树修改，按照dfs序建立，然后入点加出点减。
Bzoj2821:
两端怎么查询？除非跳到尾才能确定偶数次。
一种正常向的查询方法：查询两边的每一个值在这一长段里出现了多少次。
把每个数字大小为第一关键词，出现位置为第二关键字排序。我们可以二分。
我们可以通过调整块的大小把log吃掉。
Bzoj2741:
不能再不写了QAQ。
预处理块与块间答案，非整块的暴力查询。
f[i][j]表示从第i块左端点到j的答案。
然后左边那一点暴力。