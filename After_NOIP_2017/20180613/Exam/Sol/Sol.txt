20180613小测

这题真是OI题？

T1:

就是给你一个不明觉厉的递推式然后计算东西啦。
首先我们能用long double写一个暴力，发现前几项越来越小，后几项越来越大，明显不对......
考虑为什么，因为计算机中的浮点数是有误差的，这样推的话，误差会被放大到n!级，直接GG！
应该怎样做？手玩了半天发现没什么通项公式，难道写一个带压位FFT能做除法的高精度小数类？然后再求一个3w位有效数字的e？人干事，弃坑弃坑......
于是写了10分暴力。由于没有删调试语句爆了零。
考虑正解怎么做(抄题解？):
首先我们有一个结论:

于是我们可以这样从后向前递推f(n)，不存在精度误差。

(SDFZ某神仙：我观察到这东西绝对值越来越小，于是可以令f(1e5)=0，然后逆推f(n)，于是就这样AC了此题)
如何证明这个结论？
首先我们先构造一个积分:

考虑如何计算？首先我们有:

我们令u,v等于如下值，则有:

我们钦定g,h为如下意义:

则有:

没错，这东西就是f了。
此外我们有:

两边同时求积分，可得:

也就是:

于是我们就证明完了......
(话说这真不是数竞巨佬的来强行出题了？)
考场爆零代码:

正解代码:

T2:

这题什么鬼......
首先不共线的三点确定一个平面，那么我们能找不共线的三个点，钦定第一个点坐标为(0,0)，第二个点在x轴上，第三个点纵坐标非负，这样就确定平面了。
然后轻松地解方程求出其他所有点的坐标，因为题目保证有解，不会存在冲突的。
但是细节很多啊......
首先对于重合的点，我们要先用一个并查集把它们缩起来，否则如果第一个点和第二个点重合了，这题GG。
此外第二个和第三个点坐标的计算方法是要单独写的......
另外，如果前三个基准点共线的话，我们需要直接重选第三个基准点(显然不用重新计算共线那个点的坐标，因为它的位置是确定的)。
然后就可以AC啦！
代码:

T3:

题目描述就是给你一个矩阵的第一行，让你构造一个值域满足要求的矩阵使其行列式为1。
由于矩阵转置行列式不变，我们可以先把第一行转置为第一列，最后再转置回来。
由于题目保证存在两个数gcd为1，那么我们可以枚举是哪两个数的gcd为1，用辗转相除消元把矩阵的第一列消成仅有一个1。
然后再枚举对角线上的值是+1还是-1，把消元的过程逆回去，看值域是否满足要求。
为什么要两遍枚举？为了保证不把有解的情况由于值域问题判定为无解。
于是这样写就能获得90分啦！
(为什么少10分？因为我有一个地方的swap没有应用上。话说这样才只扣10分)
考场90分代码:

正解代码:

这次只是在本学校Rank1了，SDFZ的那个神仙比我高10分......(话说我怎么会犯一些这么蠢的错误呢)

「你说，那片云的背后，又会是什么呢？」
「大概是一望无际的晴空吧。」
「但是，这和我，又有什么关系呢？」
只是这样想着，悲伤便满溢出来。

(不是，为什么要加这段话？)
